<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Instructions — Original Style</title>
  <style>
    :root { --bg:#0b1020; --card:#11182d; --ink:#e7ecff; --muted:#b7c1e6; --accent:#5da0ff; --accent-2:#2dd4bf; --border:#22315a; --focus:#94b4ff; }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background: radial-gradient(1200px 800px at 70% -10%, #1a2450 0%, var(--bg) 60%); color: var(--ink); display: grid; grid-template-rows: auto 1fr auto; min-height: 100vh; }
    header { display: flex; align-items: center; gap: .75rem; padding: 1rem clamp(1rem, 4vw, 2rem); border-bottom: 1px solid var(--border); background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)); position: sticky; top: 0; z-index: 10; }
    header .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--accent); box-shadow: 0 0 0 4px rgba(93,160,255, .15); }
    header h1 { font-size: clamp(1.15rem, 2.2vw, 1.6rem); margin: 0; font-weight: 700; letter-spacing: .2px; }
    header .day { color: var(--muted); font-weight: 500; }
    main { padding: clamp(1rem, 4vw, 2rem); display: grid; place-items: start center; }
    .card { width: min(980px, 100%); background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); border: 1px solid var(--border); border-radius: 18px; padding: clamp(1rem, 4vw, 2rem); box-shadow: 0 10px 30px rgba(0,0,0,.35); }
    .section-title { font-size: clamp(1.1rem, 2vw, 1.35rem); margin: .25rem 0 1rem; opacity: .95; }
    .prose { color: var(--ink); line-height: 1.65; font-size: 1rem; }
    .prose p { margin: 0 0 .8rem; color: var(--muted); }
    .prose b { color: var(--ink); }
    .prose .note { font-size: .95rem; padding: .75rem .9rem; background: #0e1630; border: 1px dashed var(--border); border-radius: 12px; color: var(--muted); }
    .prose img { width: 80%; height: auto; border-radius: 10px; display: block; margin: 1rem auto; }
    .toolbar { display: flex; align-items: center; justify-content: space-between; gap: 1rem; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border); }
    .progress { display: flex; align-items: center; gap: .5rem; color: var(--muted); font-size: .95rem; }
    .progress .bar { --pct: 0%; width: 160px; height: 8px; border-radius: 99px; background: #0e1630; border: 1px solid var(--border); overflow: hidden; }
    .progress .bar > i { display: block; height: 100%; width: var(--pct); background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
    .nav { display: flex; gap: .5rem; }
    .btn { appearance: none; border: 1px solid var(--border); background: #0f1731; color: var(--ink); padding: .7rem 1rem; border-radius: 12px; font-weight: 600; cursor: pointer; transition: .2s ease; }
    .btn[disabled] { opacity: .4; cursor: not-allowed; }
    .btn:hover:not([disabled]) { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(0,0,0,.25); border-color: #2b3f79; }
    .btn.primary { background: linear-gradient(90deg, var(--accent), var(--accent-2)); border-color: transparent; color: #0b1020; }
    .hint { margin-top: .5rem; color: var(--muted); font-size: .9rem; }
    .btn:focus-visible { outline: 2px solid var(--focus); outline-offset: 2px; }
    a.skip { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
    a.skip:focus { left: 1rem; top: 1rem; width: auto; height: auto; padding: .5rem .75rem; background: #fff; color: #000; border-radius: .5rem; }
  </style>
</head>
<body>
  <a href="#content" class="skip">Skip to content</a>
  <header>
    <span class="dot" aria-hidden="true"></span>
    <h1 id="title">Instructions — <span class="day">Day 1</span></h1>
  </header>

  <main id="content">
    <article class="card" aria-live="polite">
      <h2 class="section-title" id="sectionTitle">Virtual Environment</h2>
      <div class="prose" id="text"></div>
      <div class="toolbar">
        <div class="progress" aria-label="Progress">
          <span id="stepLabel">Step 1/2</span>
          <div class="bar" aria-hidden="true"><i style="width: 50%"></i></div>
        </div>
        <div class="nav">
          <button class="btn" id="backBtn">Back</button>
          <button class="btn primary" id="nextBtn">Next</button>
        </div>
      </div>
      <p class="hint">Tip: Use ← and → to navigate.</p>
    </article>
  </main>

  <footer style="padding:1rem; text-align:center; color:var(--muted); border-top:1px solid var(--border);">
    © <span id="year"></span> Your Lab / Project
  </footer>

  <script>
    const PAGES = [
      {
        title: 'Page 1 — Overview | 页面 1 — 概览',
        html: `
          <p><b>Thank you very much for participating in this experiment!</b> | <b>非常感谢您参加本次实验！</b></p>
          <p>Next, we will provide you with the experiment instructions and operation tutorial, which will take about 10 minutes. | 接下来将为您进行实验说明与操作教学，预计耗时约 10 分钟。</p>

          <h3>Virtual Environment Elements | 虚拟环境元素</h3>
          <p>In our Unity virtual environment, there are the following elements: | 在我们的 Unity 虚拟环境中，包含以下元素：</p>

          <img src="unity场景.png" alt="Environment overview">

          <ul>
            <li>Target Object — A cylinder with an offset center of mass. | 目标物体 —— 一个重心偏移的圆柱体。</li>
            <li>Finger Representations — Five small cubes with different colors. | 手指代表 —— 五个颜色各不相同的小立方体。</li>
            <li>Lock Area — A semi-transparent light blue cube-shaped zone. | 锁定区域 —— 一个半透明浅蓝色的立方体区域。</li>
            <li>Target Height — A pass-through black-and-white checkered area resembling a finish line. | 目标高度 —— 类似终点线的可穿越黑白格区域。</li>
            <li>Environment Components — Including a table and a counter. | 环境组件 —— 包括桌面与计数器。</li>
          </ul>

          <h3>Experiment Goal | 实验目标</h3>
          <ul>
            <li>Use the five small cubes (representing fingers) to lift the offset cylinder above the target height and hold it stably for 3 seconds. | 使用五个小立方体（代表手指）将偏心圆柱体抓起，移动到目标高度以上，并在该高度稳定保持 3 秒钟。</li>
            <li>During these 3 seconds, the cylinder’s tilt angle must not exceed 5°. | 在这 3 秒内，圆柱体的倾斜角度不得超过 5°。</li>
            <li>Under different conditions, we want you to find the optimal grip posture with the fewest possible attempts. | 在不同条件下，我们希望您尽可能用最少的尝试次数找到最佳抓取姿势。</li>
          </ul>
        `
      },
      {
        title: 'Page 2 — Hardware & Scoring | 页面 2 — 硬件与评分',
        html: `
          <h3>Our hardware devices include: | 我们的硬件设备包括：</h3>
          <p><b>VR Headset — Meta Quest 3</b> | <b>VR 头显 —— Meta Quest 3</b></p>
          <p>Wearing demonstration: | 佩戴方式演示：</p>

          <img src="Quest3.gif" alt="Quest 3">

          <p><b>Fingertip Sliding Simulation Device</b> | <b>指尖滑动模拟设备</b></p>

          <img src="指尖设备.gif" alt="Fingertip device">

          <p>The weight of the cylinder is fixed, but its center of mass will be adjusted to make it tilt in different directions. | 实验中，圆柱体重量固定，但其重心会根据实验条件调整，从而使其向不同方向倾倒。</p>
          <p>The five small cubes’ color shades represent the positions from the thumb to the little finger. | 五个小立方体的颜色深浅分别代表从大拇指到小拇指的位置。</p>
          <p>Their relative positions are fixed, but they rotate around the center based on Hand Tracking data to simulate palm rotation and adjust the gripping posture. | 它们之间的相对位置固定，但会根据 Hand Tracking 数据绕中心旋转，以模拟手掌的旋转姿态，从而调整抓取方式。</p>

          <h3>Scoring Mechanism | 评分机制</h3>
          <p>The fewer attempts you make, the higher your score. | 尝试次数越少，得分越高。</p>
          <p>⚠ Note: If the grip is unstable at the target height, it will affect the final score. | ⚠ 注意：如果在目标高度抓取不稳定，将会影响最终得分。</p>
        `
      }
    ];

    const titleEl = document.getElementById('sectionTitle');
    const textEl = document.getElementById('text');
    const stepLabel = document.getElementById('stepLabel');
    const progressBar = document.querySelector('.progress .bar > i');
    const backBtn = document.getElementById('backBtn');
    const nextBtn = document.getElementById('nextBtn');

    function getStepFromHash(){const m=location.hash.match(/step=(\d+)/);const n=m?parseInt(m[1],10):0;return Math.min(Math.max(n,0),PAGES.length-1);}
    function setStep(step){location.hash = `#step=${step}`;}
    function render(){const step=getStepFromHash();const page=PAGES[step];titleEl.textContent=page.title;textEl.innerHTML=page.html;stepLabel.textContent=`Step ${step+1}/${PAGES.length}`;progressBar.style.width=`${((step+1)/PAGES.length)*100}%`;backBtn.disabled=step===0;nextBtn.textContent=step===PAGES.length-1?'Finish':'Next';document.title=`${page.title} — Instructions`;}
    backBtn.addEventListener('click',()=>setStep(getStepFromHash()-1));
    nextBtn.addEventListener('click',()=>setStep(getStepFromHash()+1));
    window.addEventListener('keydown',(e)=>{if(e.key==='ArrowLeft')setStep(getStepFromHash()-1);if(e.key==='ArrowRight')setStep(getStepFromHash()+1);});
    window.addEventListener('hashchange',render);
    render();
    document.getElementById('year').textContent=new Date().getFullYear();
  </script>
</body>
</html>
